(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var n=c(5),a=c(1),r=c(0),s=c.n(r),l=c(6),o=c.n(l),i=(c(20),c(4)),d=c(13),p=c(2),u=function(e){var t=e.person,c=t.lastName,n=t.firstName,s=Object(r.useState)(!1),l=Object(d.a)(s,2),o=l[0],u=l[1],j=Object(r.useState)(!1),m=Object(d.a)(j,2),h=m[0],b=m[1],O=Object(p.b)(),E=Object(p.c)((function(e){return e.checkedEmployees}));return Object(r.useEffect)((function(){if(o){var e=[];if(O({type:"SAVE_CHECKED_EMPLOYEES",payload:[].concat(Object(i.a)(E),[t])}),localStorage.checkedEmployees){var c=JSON.parse(localStorage.checkedEmployees);e=[].concat(Object(i.a)(c),[t]),localStorage.checkedEmployees=JSON.stringify(e)}}else{var n,a=[];if(Object(i.a)(E).forEach((function(e,c){e.id===t.id&&(n=c)})),n>=0){var r,s=Object(i.a)(E);s.splice(n,1),(a=JSON.parse(localStorage.checkedEmployees)).forEach((function(e,c){e.id===t.id&&(r=c)})),r>=0&&(a.splice(r,1),localStorage.checkedEmployees=JSON.stringify(a)),O({type:"SAVE_CHECKED_EMPLOYEES",payload:s})}}}),[h]),Object(r.useEffect)((function(){if(localStorage.checkedEmployees){var e=JSON.parse(localStorage.checkedEmployees);e.find((function(e,c){return e.id===t.id}))&&(u(!o),O({type:"SAVE_CHECKED_EMPLOYEES",payload:e}))}else localStorage.setItem("checkedEmployees",JSON.stringify([]))}),[]),Object(a.jsxs)("li",{className:"employee__item",children:[Object(a.jsxs)("p",{className:"employee__name",children:[c," ",n]}),Object(a.jsx)("input",{className:"employee-checkbox",onChange:function(){return u(!o),void b(!h)},type:"checkbox",checked:o}),o&&Object(a.jsx)("span",{className:"employee__checkbox-isChecked",children:"check box"})]})},j=function(e){var t=e.letter,c=e.item.filter((function(e){return e.lastName.split("")[0].toLowerCase()===t}));c.sort((function(e,t){return e.lastName>t.lastName?1:-1}));var n=c.map((function(e){return Object(a.jsx)(u,{person:e},e.id)}));return Object(a.jsxs)("ul",{className:"card__employees-list",children:[Object(a.jsx)("h1",{className:"card__title",children:t.toUpperCase()}),0===n.length?"-":n]})},m=[0,1,2,3,4,5,6,7,8,9,10,11],h=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],b=["January","February","March","April","May","June","July","August","September","October","November","December"],O=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.allEmployees})),c=h.map((function(e,c){return Object(a.jsx)(j,{letter:e,item:t},c)}));return Object(r.useEffect)((function(){fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.json()})).then((function(t){e({type:"SAVE_ALL_EMPLOYEES",payload:t})}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"card__title--birthday-part",children:"Employees"}),Object(a.jsx)("div",{className:"card__wrapper",children:c})]})},E=function(e){var t=e.person,c=t.lastName,n=t.firstName,r=t.dob,s={month:new Date(r).getMonth(),date:new Date(r).getDate(),year:new Date(r).getFullYear()};return s.month=b.find((function(e,t){return t===s.month})),Object(a.jsxs)("li",{className:"employee__item",children:[Object(a.jsxs)("p",{className:"employee__name",children:[c," ",n]}),Object(a.jsxs)("p",{className:"employee__birthday",children:[s.date," ",s.month," ",s.year," year"]})]})},f=function(e){var t=e.month,c=e.item.filter((function(e){return new Date(e.dob).getMonth()===t})).map((function(e){return Object(a.jsx)(E,{person:e},e.id)})),n=b.find((function(e,c){return c===t}));return Object(a.jsx)(a.Fragment,{children:0!==c.length&&Object(a.jsxs)("ul",{className:"card__employees-list--checked",children:[Object(a.jsx)("h1",{className:"card__title",children:n}),c]})})},y=function(){var e=Object(p.c)((function(e){return e.checkedEmployees})),t=m.map((function(t,c){return Object(a.jsx)(f,{month:t,item:e},c)}));return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"card__title--birthday-part",children:"Employees birthday"}),Object(a.jsx)("div",{className:"card__wrapper",children:0===e.length?"No selected employees":t})]})},_=(c(27),function(){return Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)(O,{}),Object(a.jsx)(y,{})]})}),N=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,29)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))},S=c(8),x="SAVE_ALL_EMPLOYEES",g="SAVE_CHECKED_EMPLOYEES",v={allEmployees:[],checkedEmployees:[]},k=Object(S.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(n.a)(Object(n.a)({},e),{},{allEmployees:t.payload});case g:return Object(n.a)(Object(n.a)({},e),{},{checkedEmployees:t.payload});default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(p.a,{store:k,children:Object(a.jsx)(_,{})})}),document.getElementById("root")),N()}},[[28,1,2]]]);
//# sourceMappingURL=main.6882fd91.chunk.js.map